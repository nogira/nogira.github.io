<!DOCTYPE html>
<html lang="en-us">
<head>
  <title>Reduce the Size of Your PNGs (In Bulk)</title>
  <meta name="description" content="Reduce the Size of Your PNGs (In Bulk)"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="theme-color" content="#FFFFFF"/>
  <link type="text/css" href="../prism/prism.css" rel="stylesheet" />
  <link type="text/css" href="../main.css" rel="stylesheet" />
</head>

<body>
  <div id="main">
    <h1 id="title">Nogira</h1>
    <div>
      <a href="../index.html">Home</a>
      <span>&nbsp;&nbsp;&nbsp;</span>
      <a href="https://github.com/nogira">Github</a>
    </div>
    <br>
    <br>
    <br>
    <div id="content">
      <h1>Reduce the Size of Your PNGs (In Bulk)</h1>
<br>
<br>
<div>PNGs take up a lot of storage space as they have a large number of colours and transparencies. To reduce their size, we can minimise the number of colors & transparencies the PNG uses, without compromising too much on the image quality.</div>
<br>
<div>In this example the png went from 554 KB to just 109 KB with almost no visible effect.</div>
<hr noshade>
<img src="https://i.imgur.com/Coc6wvY.png" width="347px" alt="" />
<img src="https://i.imgur.com/q54GCU8.png" width="347px" alt="" />
<hr noshade>
<br>
<div>Here is an example of a photograph. (721 KB to 266 KB)</div>
<hr noshade>
<img src="https://i.imgur.com/cTJSHc4.png" width="347px" alt="" />
<img src="https://i.imgur.com/RnomLXS.png" width="347px" alt="" />
<hr noshade>
<br>
<div>I've found the only time I ever really notice it is when the image has a very smooth gradient like this. (61 KB to 16 KB)</div>
<hr noshade>
<img src="https://i.imgur.com/HMmOOZp.png" width="347px" alt="" />
<img src="https://i.imgur.com/jaSO99e.png" width="347px" alt="" />
<hr noshade>
<br>
<br>
<div>To easily convert images yourself, first go to <a href="https://colab.research.google.com">https://colab.research.google.com</a> and login.</div>
<br>
<div>In the files tab on the left, create one folder called <code class="language-none">input</code>, and another called <code class="language-none">output</code>. Then, copy all your images to the input folder (I did ~100 MB of images at a time after trying 300 MB at once crashed the website).</div>
<br>
<div>Next, copy this code into the code box in the middle of the screen.</div>
<pre><code class="language-py"># get a list of all the files in the input folder
import os
arr = os.listdir('input')
if '.ipynb_checkpoints' in arr:
    del arr[arr.index('.ipynb_checkpoints')]

# go through each file in the input folder:
# convert -> save to output folder
from PIL import Image
for img in arr:
    im = Image.open('input/' + img)
    try:
        im = im.quantize()
        im.save('output/' + img)
    except:
        print(img)

# create zip of output folder
import os
import zipfile
def zipdir(path, ziph):
    for root, dirs, files in os.walk(path):
        for file in files:
            ziph.write(os.path.join(root, file), 
                       os.path.relpath(os.path.join(root, file), 
                                       os.path.join(path, '..')))
zipf = zipfile.ZipFile('output.zip', 'w', zipfile.ZIP_DEFLATED)
zipdir('output/', zipf)
zipf.close()
</code></pre>
<br>
<div>Click the play button in the top left of the code box. When the button stops spinning, it is done. After clicking the refresh files button, you can now download the <code class="language-none">output.zip</code> containing all your converted images.</div>
<br>
<div>If an image is unable to be converted, it will output the name of the image to the console (any text that appears directly below the code box while/after running the code).</div>
<br>
<br>
<hr noshade>
<hr noshade>
<br>
<br>
<p id="donate">If you loved this, please consider <a href="../generate/donate.html">donating</a> :)<p>
    </div>
    <script src="../prism/prism.js"></script>
  </div>
</body>
</html>